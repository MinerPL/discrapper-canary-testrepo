var r = n(546299), i = n(261638), a = n(21841), o = r.rotr64_hi, s = r.rotr64_lo, l = r.shr64_hi, u = r.shr64_lo, c = r.sum64, d = r.sum64_hi, _ = r.sum64_lo, E = r.sum64_4_hi, f = r.sum64_4_lo, h = r.sum64_5_hi, p = r.sum64_5_lo, m = i.BlockHash, I = [
        1116352408,
        3609767458,
        1899447441,
        602891725,
        3049323471,
        3964484399,
        3921009573,
        2173295548,
        961987163,
        4081628472,
        1508970993,
        3053834265,
        2453635748,
        2937671579,
        2870763221,
        3664609560,
        3624381080,
        2734883394,
        310598401,
        1164996542,
        607225278,
        1323610764,
        1426881987,
        3590304994,
        1925078388,
        4068182383,
        2162078206,
        991336113,
        2614888103,
        633803317,
        3248222580,
        3479774868,
        3835390401,
        2666613458,
        4022224774,
        944711139,
        264347078,
        2341262773,
        604807628,
        2007800933,
        770255983,
        1495990901,
        1249150122,
        1856431235,
        1555081692,
        3175218132,
        1996064986,
        2198950837,
        2554220882,
        3999719339,
        2821834349,
        766784016,
        2952996808,
        2566594879,
        3210313671,
        3203337956,
        3336571891,
        1034457026,
        3584528711,
        2466948901,
        113926993,
        3758326383,
        338241895,
        168717936,
        666307205,
        1188179964,
        773529912,
        1546045734,
        1294757372,
        1522805485,
        1396182291,
        2643833823,
        1695183700,
        2343527390,
        1986661051,
        1014477480,
        2177026350,
        1206759142,
        2456956037,
        344077627,
        2730485921,
        1290863460,
        2820302411,
        3158454273,
        3259730800,
        3505952657,
        3345764771,
        106217008,
        3516065817,
        3606008344,
        3600352804,
        1432725776,
        4094571909,
        1467031594,
        275423344,
        851169720,
        430227734,
        3100823752,
        506948616,
        1363258195,
        659060556,
        3750685593,
        883997877,
        3785050280,
        958139571,
        3318307427,
        1322822218,
        3812723403,
        1537002063,
        2003034995,
        1747873779,
        3602036899,
        1955562222,
        1575990012,
        2024104815,
        1125592928,
        2227730452,
        2716904306,
        2361852424,
        442776044,
        2428436474,
        593698344,
        2756734187,
        3733110249,
        3204031479,
        2999351573,
        3329325298,
        3815920427,
        3391569614,
        3928383900,
        3515267271,
        566280711,
        3940187606,
        3454069534,
        4118630271,
        4000239992,
        116418474,
        1914138554,
        174292421,
        2731055270,
        289380356,
        3203993006,
        460393269,
        320620315,
        685471733,
        587496836,
        852142971,
        1086792851,
        1017036298,
        365543100,
        1126000580,
        2618297676,
        1288033470,
        3409855158,
        1501505948,
        4234509866,
        1607167915,
        987167468,
        1816402316,
        1246189591
    ];
function T() {
    if (!(this instanceof T))
        return new T();
    m.call(this), this.h = [
        1779033703,
        4089235720,
        3144134277,
        2227873595,
        1013904242,
        4271175723,
        2773480762,
        1595750129,
        1359893119,
        2917565137,
        2600822924,
        725511199,
        528734635,
        4215389547,
        1541459225,
        327033209
    ], this.k = I, this.W = Array(160);
}
r.inherits(T, m), e.exports = T, T.blockSize = 1024, T.outSize = 512, T.hmacStrength = 192, T.padLength = 128, T.prototype._prepareBlock = function (e, t) {
    for (var n = this.W, r = 0; r < 32; r++)
        n[r] = e[t + r];
    for (; r < n.length; r += 2) {
        var i = function (e, t) {
                var n = o(e, t, 19) ^ o(t, e, 29) ^ l(e, t, 6);
                return n < 0 && (n += 4294967296), n;
            }(n[r - 4], n[r - 3]), a = function (e, t) {
                var n = s(e, t, 19) ^ s(t, e, 29) ^ u(e, t, 6);
                return n < 0 && (n += 4294967296), n;
            }(n[r - 4], n[r - 3]), c = n[r - 14], d = n[r - 13], _ = function (e, t) {
                var n = o(e, t, 1) ^ o(e, t, 8) ^ l(e, t, 7);
                return n < 0 && (n += 4294967296), n;
            }(n[r - 30], n[r - 29]), h = function (e, t) {
                var n = s(e, t, 1) ^ s(e, t, 8) ^ u(e, t, 7);
                return n < 0 && (n += 4294967296), n;
            }(n[r - 30], n[r - 29]), p = n[r - 32], m = n[r - 31];
        n[r] = E(i, a, c, d, _, h, p, m), n[r + 1] = f(i, a, c, d, _, h, p, m);
    }
}, T.prototype._update = function (e, t) {
    this._prepareBlock(e, t);
    var n = this.W, r = this.h[0], i = this.h[1], l = this.h[2], u = this.h[3], E = this.h[4], f = this.h[5], m = this.h[6], I = this.h[7], T = this.h[8], g = this.h[9], S = this.h[10], A = this.h[11], N = this.h[12], v = this.h[13], O = this.h[14], R = this.h[15];
    a(this.k.length === n.length);
    for (var C = 0; C < n.length; C += 2) {
        var y = O, D = R, L = function (e, t) {
                var n = o(e, t, 14) ^ o(e, t, 18) ^ o(t, e, 9);
                return n < 0 && (n += 4294967296), n;
            }(T, g), b = function (e, t) {
                var n = s(e, t, 14) ^ s(e, t, 18) ^ s(t, e, 9);
                return n < 0 && (n += 4294967296), n;
            }(T, g), M = function (e, t, n, r, i) {
                var a = e & n ^ ~e & i;
                return a < 0 && (a += 4294967296), a;
            }(T, g, S, A, N, v), P = function (e, t, n, r, i, a) {
                var o = t & r ^ ~t & a;
                return o < 0 && (o += 4294967296), o;
            }(T, g, S, A, N, v), U = this.k[C], w = this.k[C + 1], x = n[C], G = n[C + 1], k = h(y, D, L, b, M, P, U, w, x, G), B = p(y, D, L, b, M, P, U, w, x, G);
        y = function (e, t) {
            var n = o(e, t, 28) ^ o(t, e, 2) ^ o(t, e, 7);
            return n < 0 && (n += 4294967296), n;
        }(r, i), D = function (e, t) {
            var n = s(e, t, 28) ^ s(t, e, 2) ^ s(t, e, 7);
            return n < 0 && (n += 4294967296), n;
        }(r, i), L = function (e, t, n, r, i) {
            var a = e & n ^ e & i ^ n & i;
            return a < 0 && (a += 4294967296), a;
        }(r, i, l, u, E, f);
        var F = d(y, D, L, b = function (e, t, n, r, i, a) {
                var o = t & r ^ t & a ^ r & a;
                return o < 0 && (o += 4294967296), o;
            }(r, i, l, u, E, f)), V = _(y, D, L, b);
        O = N, R = v, N = S, v = A, S = T, A = g, T = d(m, I, k, B), g = _(I, I, k, B), m = E, I = f, E = l, f = u, l = r, u = i, r = d(k, B, F, V), i = _(k, B, F, V);
    }
    c(this.h, 0, r, i), c(this.h, 2, l, u), c(this.h, 4, E, f), c(this.h, 6, m, I), c(this.h, 8, T, g), c(this.h, 10, S, A), c(this.h, 12, N, v), c(this.h, 14, O, R);
}, T.prototype._digest = function (e) {
    return 'hex' === e ? r.toHex32(this.h, 'big') : r.split32(this.h, 'big');
};
